!function(e){function r(a){if(o[a])return o[a].exports;var u=o[a]={exports:{},id:a,loaded:!1};return e[a].call(u.exports,u,u.exports,r),u.loaded=!0,u.exports}var o={};return r.m=e,r.c=o,r.p="",r(0)}([function(e,r,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function u(e,r){var o=e.data.name;G.indexOf(o)>=0?(G.splice(G.indexOf(o),1),d3.select(this).attr("fill",C.heat[o])):(G.push(o),d3.select(this).attr("fill","#A7A8AA")),W.selectAll("*").remove();for(var a=0;a<Y.AppData.length;a++)n(a)}function t(){L=document.getElementById("percentileCheck").checked,d3.select(".Chartcontainer").selectAll("*").remove(),A=f.getWidth(),g(Y.AppData[0].Data[0].groupByVarName)}function l(){var e=c(),r=w.append("div").attr("class","dropdown");r.append("button").attr("class","dropbtn").html("<b>Group By:</b> "+z).append("span").style("float","right").html(" ▼");var o=r.append("div").attr("class","dropdown-content");o.selectAll("a").data(e).enter().append("a").html(function(e){return e}).attr("onclick",function(e){return"intializeTreeMap('"+e+"')"});w.append("div").attr("class","perc-check").html("<input id='percentileCheck' class='perc-checkinput' checked='true' onchange='togglePercentile()' type='checkbox'><label for='percentileCheck'>Percentiles</label>")}function p(e,r){setTimeout(function(){b=!0},300);var o=M.statData.filter(function(r){return r.groupByVarName==z&&r.groupByValue==e.data.name})[0],a=M.proportion.filter(function(r){return r.name==e.data.name})[0];H.style("opacity",1).style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px").style("color",C.heat[e]).html("Group <b>"+o.groupByValue+" </b> is "+a.perc+"% of the data and has an average error of <b>"+f.formatLabel(o[M.ErrType])+"</b>")}function i(e,r){setTimeout(function(){b=!0},300);var o=M.statData.filter(function(r){return r.groupByVarName==z&&r.groupByValue==e.data.name})[0],a=M.proportion.filter(function(r){return r.name==e.data.name})[0];H.style("opacity",1).style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px").style("color",C.heat[e.data.name]).html("Group <b>"+o.groupByValue+" </b> is "+f.formatLabel(a.perc)+"% of the data and has an average error of <b>"+f.formatLabel(o[M.ErrType])+"</b>")}function d(e,r){H.style("opacity",0)}function g(e){function r(e){return e.children?0:1}function o(e){return e.size}C.heat={},z=e,B(),d3.select(".dropbtn").html("<b>Group By:</b> "+z).append("span").style("float","right").html(" ▼");var a=y(z),t={top:50,right:15,bottom:30,left:60};E.selectAll("*").remove();var l=.8*f.getWidth()-.1*t.left-t.right-.1*f.getWidth(),g=200-t.top-t.bottom;E.attr("width",l),E.attr("height",g);var c=function(e){return d3.interpolateRgb(e,"#fff")(.2)},h=(d3.scaleOrdinal(d3.schemeCategory20.map(c)),d3.format(",d"),d3.treemap().tile(d3.treemapResquarify).size([l,g-20]).round(!0).paddingInner(2)),m=d3.hierarchy(a).eachBefore(function(e){e.data.id=(e.parent?e.parent.data.id+".":"")+e.data.name}).sum(o).sort(function(e,r){return r.data.name-e.data.name});h(m),M.proportion=m.data.children;var s=0;for(var V in M.proportion)s+=M.proportion[V].size;for(var V in M.proportion)M.proportion[V].perc=100*M.proportion[V].size/s;var N=E.append("g").attr("class","cell-group").attr("transform","translate(0,0)"),S=N.selectAll("g").data(m.leaves()).enter().append("g").attr("transform",function(e){return"translate("+e.x0+","+e.y0+")"});S.append("rect").attr("id",function(e){return e.data.id+" brdr"}).attr("x",-2).attr("y",-2).attr("class","borderpath").attr("width",function(e){return e.x1-e.x0+4}).attr("height",function(e){return e.y1-e.y0+4}).attr("fill",function(e){return"#53565A"}).style("cursor","pointer"),S.append("rect").attr("id",function(e){return e.data.id}).attr("class","rect").attr("width",function(e){return e.x1-e.x0}).attr("height",function(e){return e.y1-e.y0}).attr("fill",function(e){return C.heat[e.data.name]}).on("click",u).on("mouseenter",p).on("mouseout",d).on("mousemove",i).style("cursor","pointer"),S.append("text").attr("clip-path",function(e){return"url(#clip-"+e.data.id+")"}).attr("dx",10).attr("dy",20).text(function(e){if(e.x1-e.x0>100){var r=M.statData.filter(function(r){return r.groupByVarName==z&&r.groupByValue==e.data.name})[0],o=M.proportion.filter(function(r){return r.name==e.data.name})[0];return"Category: "+r.groupByValue+" ("+f.formatLabel(o.perc)+"%)"}return""}).style("fill","#fff"),S.append("text").attr("clip-path",function(e){return"url(#clip-"+e.data.id+")"}).attr("dx",10).attr("dy",40).text(function(e){if(e.x1-e.x0>100){var r=M.statData.filter(function(r){return r.groupByVarName==z&&r.groupByValue==e.data.name})[0];return"Average Error: "+f.formatLabel(r[M.ErrType])}return""}).style("fill","#fff"),S.append("text").attr("clip-path",function(e){return"url(#clip-"+e.data.id+")"}).attr("dx",10).attr("dy",60).text(function(e){if(e.x1-e.x0>100){M.statData.filter(function(r){return r.groupByVarName==z&&r.groupByValue==e.data.name})[0];return"Error Type: "+M.ErrType}return""}).style("fill","#fff"),d3.selectAll("input").data([o,r],function(e){return e?e.name:this.value}),W.selectAll("*").remove();for(var P=0;P<Y.AppData.length;P++)n(P)}function y(e){var r={name:"heatMap",children:[]},o=Y.AppData[0].Data,a=(o.filter(function(r){return r.groupByVarName==e}),M.statData.filter(function(r){return r.groupByVarName==e})),u=d3.nest().key(function(e){return e.groupByValue}).rollup(function(e){return e.length}).entries(a);return u.forEach(function(e){var o={};o.name=e.key,o.size=a.filter(function(r){return r.groupByValue==e.key})[0].Total,r.children.push(o)}),r.children=r.children.sort(f.sortDictionary),r}function c(){var e=[];return Y.AppData.forEach(function(r){r.Data.forEach(function(r){e.indexOf(r.groupByVarName)<0&&e.push(r.groupByVarName)})}),e}function h(e,r,o,a){var u=M.percData.filter(function(e){return e.variable==a})[0],t=u.percentileList.filter(function(e){return e.groupByVar==o})[0],l=t.percentileValues.filter(function(e){return e.percentiles==r+"%"})[0];return l.value}function m(e,r,o,a){var u=M.percGData.filter(function(e){return e.variable==a&e.percentile==r+"%"})[0];return u.value}function s(e,r,o){if(0==o.length)return 0;var a=d3.extent(e.map(function(e){return e[r]})),u={},t={};t.overEst={},t.underEst={},u.quartiles=[];d3.quantile(a,.25)-d3.min(a);for(var l in o){var p=o[l];t.underEst[p]="",t.overEst[p]="";for(var i=1;i<=4;i++){var d={};d.quarter=i,d.group=p;var g=h(e,25*(i-1),p,r),y=h(e,25*i,p,r);d.range=[g,y];var c=e.filter(function(e){return e[r]>=g&&e[r]<=y&&e.groupByValue==p});d.averageImpact=d3.mean(c.map(function(e){return e.predictedYSmooth})),d.medianImpact=d3.median(c.map(function(e){return e.predictedYSmooth})),d.estimate=Math.abs(d3.mean(c.map(function(e){return e.predictedYSmooth}))/d3.mean(c.map(function(e){return e.predictedYSmooth}))),d.estimate>=1?t.overEst[p]+=f.formatLabel(g)+"-"+f.formatLabel(y)+", ":t.underEst[p]+=f.formatLabel(g)+"-"+f.formatLabel(y)+", ",u.quartiles.push(d)}}return t.lowest=d3.min(u.quartiles.map(function(e){return e.averageImpact})),t.highest=d3.max(u.quartiles.map(function(e){return e.averageImpact})),t.lowestGroup=u.quartiles.filter(function(e){return e.averageImpact==t.lowest})[0].group,t.lowestGroup=t.lowestGroup.indexOf("Bin")>=0?"for group "+t.lowestGroup.split("_")[1]:" for "+t.lowestGroup,t.highestGroup=u.quartiles.filter(function(e){return e.averageImpact==t.highest})[0].group,t.highestGroup=t.highestGroup.indexOf("Bin")>=0?"for group "+t.highestGroup.split("_")[1]:" for "+t.highestGroup,t.lowestQuartile=u.quartiles.filter(function(e){return e.averageImpact==t.lowest})[0].range,t.highestQuartile=u.quartiles.filter(function(e){return e.averageImpact==t.highest})[0].range,t.lowestRange=t.lowestQuartile,t.highestRange=t.highestQuartile,t.overAllAverageImpact=d3.mean(e.map(function(e){return e.predictedYSmooth})),t.overAllMedianImpact=d3.median(e.map(function(e){return e.predictedYSmooth})),t.diffMaxOverall=t.highest-t.overAllMedianImpact,t.diffMaxMin=t.highest-t.lowest,t}function V(e,r,o,a){var u=d3.extent(e.map(function(e){return e[r]})),t={},l={};l.overEst="",l.underEst="",t.quartiles=[];var p=d3.quantile(u,.25)-d3.min(u);for(var i in a)for(var d in o){var g=o[d],y=a[i],c={};c.quarter=y,c.group=g;var h=(d3.min(u)+(i-1)*p,d3.min(u)+i*p,e.filter(function(e){return e[r]==y&&e.groupByValue==g}));c.averageError=d3.mean(h.map(function(e){return e.errPos+e.errNeg})),c.MedianError=d3.median(h.map(function(e){return e.errPos+e.errNeg})),c.estimate=Math.abs(d3.mean(h.map(function(e){return e.errPos}))/d3.mean(h.map(function(e){return e.errNeg}))),c.estimate>=1?l.overEst+=y+" for "+g+", ":l.underEst+=y+" for "+g+", ",t.quartiles.push(c)}return l.lowest=d3.min(t.quartiles.map(function(e){return e.averageError})),l.highest=d3.max(t.quartiles.map(function(e){return e.averageError})),l.lowestGroup=t.quartiles.filter(function(e){return e.averageError==l.lowest})[0].group,l.lowestGroup=l.lowestGroup.indexOf("Bin")>=0?"for group "+l.lowestGroup.split("_")[1]:" for "+l.lowestGroup,l.highestGroup=t.quartiles.filter(function(e){return e.averageError==l.highest})[0].group,l.highestGroup=l.highestGroup.indexOf("Bin")>=0?"for group "+l.highestGroup.split("_")[1]:" for "+l.highestGroup,l.lowestQuartile=t.quartiles.filter(function(e){return e.averageError==l.lowest})[0].quarter,l.highestQuartile=t.quartiles.filter(function(e){return e.averageError==l.highest})[0].quarter,l.overAllAverageError=d3.mean(e.map(function(e){return e.errPos+e.errNeg})),l.overAllMedianError=d3.median(e.map(function(e){return e.errPos+e.errNeg})),l.diffMaxOverall=l.highest-l.overAllMedianError,l.diffMaxMin=l.highest-l.lowest,l}function B(){for(var e=[],r=0;r<Y.AppData.length;r++){var o=Y.AppData[r].Data.filter(function(e){return e.groupByVarName==z});if(o.length>0){var a=o[0],u=Object.keys(a).filter(function(e){return D.indexOf(e)<0})[0];C[u]={},C.heat={},o.forEach(function(r){e.indexOf(r.groupByValue)<0&&e.push(r.groupByValue)}),e.sort(f.sortAlphaNum),e.forEach(function(e,r){C[u][e]=R[r]})}}e.forEach(function(e,r){C.heat[e]=R[r]})}function N(){Y.AppData.filter(function(e,r){"Accuracy"==e.Type&&(M.statData=e.Data,M.ErrType=e.ErrType,Y.AppData.splice(r,1))}),Y.AppData.filter(function(e,r){"PercentileGroup"==e.Type&&(M.percData=e.Data,Y.AppData.splice(r,1))}),Y.AppData.filter(function(e,r){"Percentile"==e.Type&&(M.percGData=e.Data,Y.AppData.splice(r,1))})}function n(e){function r(){function r(u){function l(e,r){var o=d3.select("#"+t.replace(/[^a-zA-Z]/g,""));o.selectAll(".errorline").style("opacity",.25),o.selectAll("."+e).style("opacity",1)}function g(e,r){var o=d3.select("#"+t.replace(/[^a-zA-Z]/g,""));o.selectAll(".errorline").style("opacity",1),o.selectAll(".posError").style("opacity",.4),o.selectAll(".negError").style("opacity",.4),o.selectAll(".circleH").style("opacity",.4)}function y(r,u){var l=d3.select("#"+t.replace(/[^a-zA-Z]/g,"")),i=d3.select(this).attr("class").split(" ")[2],d=o();Q.transition().style("opacity",1).attr("x1",Y(d)).attr("x2",Y(d)).attr("transform","translate(10,0)"),setTimeout(function(){b=!0},300);var g=a.filter(function(e){return e[t]==d&&e.groupByValue==i})[0];H.attr("class","colorClass"+e+u),H.transition().duration(200).delay(100).style("opacity",1),H.html("At <span>"+f.formatLabel(g[t])+", "+t+" </span>has a Predicted-Quality of <span>"+f.formatLabel(g.predictedYSmooth)+" </span> with a positive error of <span>"+("null"!=g.errPos?f.formatLabel(g.errPos):0)+"</span> and a negative error of <span> "+("null"!=g.errNeg?f.formatLabel(g.errNeg):0)+"</span>").style("left",function(){var e=this.getBoundingClientRect().width,r=d3.event.pageX;return p>e+r+25?d3.event.pageX+5+"px":d3.event.pageX-e-5<10?"10px":d3.event.pageX-e-5+"px"}).style("top",d3.event.pageY+20+"px"),H.style("color",C[t][g.groupByValue]),l.selectAll(".errorline").style("opacity",.1),l.selectAll("circle").style("opacity",.1),l.selectAll("."+i).style("opacity",1).attr("cursor","pointer"),l.selectAll(".circleH").filter("."+i).style("opacity",.4)}function c(e){var r=d3.select("#"+t.replace(/[^a-zA-Z]/g,""));d3.select(this).attr("class").split(" ")[1];r.selectAll("path").style("opacity",1),r.selectAll(".negError").style("opacity",.25),r.selectAll(".posError").style("opacity",.25),r.selectAll("circle").style("opacity",1),r.selectAll(".circleH").style("opacity",.4),H.transition().duration(200).delay(100).style("opacity",0),Q.transition().style("opacity",0)}function V(r,u){var l=d3.select("#"+t.replace(/[^a-zA-Z]/g,"")),i=d3.select(this).attr("class").split(" ")[2],d=o();Q.transition().style("opacity",1).attr("x1",Y(d)).attr("x2",Y(d)).attr("transform","translate(10,0)"),setTimeout(function(){b=!0},300);var g=a.filter(function(e){return e[t]==d&&e.groupByValue==i})[0];H.attr("class","colorClass"+e+u),H.transition().duration(200).delay(100).style("opacity",1),H.html("At <span>"+f.formatLabel(g[t])+", "+t+" </span>has a Predicted-Quality of <span>"+f.formatLabel(g.predictedYSmooth)+" </span> with a positive error of <span>"+("null"!=g.errPos?f.formatLabel(g.errPos):0)+"</span> and a negative error of <span> "+("null"!=g.errNeg?f.formatLabel(g.errNeg):0)+"</span>").style("left",function(){var e=this.getBoundingClientRect().width,r=d3.event.pageX;return p>e+r+25?d3.event.pageX+5+"px":d3.event.pageX-e-5<10?"10px":d3.event.pageX-e-5+"px"}).style("top",d3.event.pageY+20+"px"),H.style("color",C[t][g.groupByValue]),l.selectAll(".errorline").style("opacity",.1),l.selectAll("circle").style("opacity",.1),l.selectAll("."+i).style("opacity",1).attr("cursor","pointer"),l.selectAll(".circleH").filter("."+i).style("opacity",.4)}function P(e,o){S[t].indexOf(e)>=0?(S[t].splice(S[t].indexOf(e),1),r(!1),d3.select(this).style("opacity",.5).style("background-color","#A7A8AA")):(S[t].push(e),r(!1),d3.select(this).style("opacity",1).style("background-color",C[t][e]))}D.selectAll("*").remove(),G.selectAll("*").remove(),I.selectAll("*").remove(),j.selectAll("*").remove(),X.selectAll("*").remove();var k=s(a,t,S[t]),z="<ul style='list-style-type:disc' > <li>Across all categories, the model's error in predicting <b>"+O+" </b> is lowest from <b> ["+k.lowestRange+"] </b> "+k.lowestGroup+" and highest from <b> ["+k.highestRange+"] </b> "+k.highestGroup+"</li> <li> The error from <b> ["+k.highestRange+"] </b>"+k.highestGroup+" is  "+f.formatLabel(k.diffMaxOverall)+" higher than the overall median error and "+f.formatLabel(k.diffMaxMin)+" higher than the average error from <b> ["+k.lowestRange+"] </b> "+k.lowestGroup+"</li> <li> When the model makes prediction errors, there are times when those errors systematically lean in one direction </li><li>  The model tends to consistently make mistakes in the same direction when it miss-estimates "+t;S[t].forEach(function(e){""!=k.overEst[e]&&(z+=". Within the "+e+" group, the model consistently makes overestimates in the quartile range(s) <b>"+k.overEst[e].slice(0,k.overEst[e].length-2)+"</b>"),""!=k.underEst[e]&&(z+=" while making underestimates in the quartile ranges <b>"+k.underEst[e].slice(0,k.underEst[e].length-2)+"</b>")}),z+="</li></ul>",n.html(z);var Z=S[t],F=100,J=0,$=a.filter(function(e){return Z.indexOf(e.groupByValue)>=0});Y.domain(d3.extent($,function(e){return e[t]})),$.forEach(function(e){var r=e.predictedYSmooth+("null"==e.errPos?0:Math.abs(e.errPos)),o=e.predictedYSmooth+("null"==e.errNeg?0:e.errNeg);F>o&&(F=o),J<r&&(J=r)});var K=[];for(var ee in q){var re=0,oe=0;for(var ae in S[t]){var ue=S[t][ae],te=S[t].length==d.length?m(a,q[ee],ue,t):h(a,q[ee],ue,t),le=M.proportion.filter(function(e){return e.name==ue})[0].perc/100;re+=te*le,oe+=le}K.push({percentile:q[ee],value:f.formatLabel(re/oe)})}if($=$.sort(function(e,r){return e[t]-r[t]}),T.domain([F,J]),E.transition().duration(1e3).call(_),L&0!=Z.length){var pe=W.selectAll("line").data(K).style("opacity",1);pe.exit().remove(),pe.enter().append("line").style("opacity",1).attr("x1",function(e){return Y(e.value)}).attr("y1",30*N).attr("x2",function(e){return Y(e.value)}).attr("y2",i+30*N+10).attr("stroke","#75787B").attr("stroke-width","2px"),pe.transition().attr("x1",function(e){return Y(e.value)}).attr("y1",30*N).attr("x2",function(e){return Y(e.value)}).attr("y2",i+30*N+10).attr("stroke","#75787B").attr("stroke-width","2px");var ie=R.selectAll("text").data(K).style("opacity",1);ie.exit().remove(),ie.enter().append("text").text(function(e){return e.percentile}).attr("transform",function(e){return"translate("+(Y(e.value)-5)+",25)"}),ie.transition().text(function(e){return e.percentile}).attr("transform",function(e){return"translate("+(Y(e.value)-5)+",25)"})}0==Z.length&&(W.selectAll("line").style("opacity",0),R.selectAll("text").style("opacity",0));I.selectAll("path").data(Z).enter().append("path").attr("fill","none").attr("class",function(e){return"errorline "+e}).attr("stroke",function(e){return C[t][e]}).attr("stroke-width","2px").datum(function(e){var r=[];return $.map(function(o){o.groupByValue==e&&r.push(o)}),r}).attr("d",v),D.selectAll("path").data(Z).enter().append("path").attr("class",function(e){return"errorline posError "+e}).attr("fill","grey").style("opacity",.4).datum(function(e){var r=[];return $.map(function(o){o.groupByValue==e&&r.push(o)}),r}).attr("id","line"+t.replace(/[^a-zA-Z]/g,"")).attr("d",x),G.selectAll("path").data(Z).enter().append("path").attr("fill","grey").attr("class",function(e){return"errorline negError "+e}).style("opacity",.4).datum(function(e){var r=[];return $.map(function(o){o.groupByValue==e&&r.push(o)}),r}).attr("id","line"+t.replace(/[^a-zA-Z]/g,"")).attr("d",w);d3.select("#"+t.replace(/[^a-zA-Z]/g,"")).selectAll(".errorline").on("mouseenter",V).on("mouseout",c).on("mousemove",y),A.transition().duration(1e3).call(U),A.selectAll("line").attr("opacity",.25).style("stroke-dasharray","3, 3"),E.selectAll("line").attr("opacity",.25).style("stroke-dasharray","3, 3");B.selectAll("button").data(d.sort(f.sortAlphaNum)).enter().append("button").attr("class",function(e){return"legend-btn "+e}).style("background-color",function(e){return C[t][e]}).style("cursor","pointer").on("click",P).on("mouseover",l).on("mouseout",g).html(function(e){return e})}function o(){var e=Y.invert(d3.event.pageX-.02*f.getWidth()),r=a.map(function(e){return e[t]}),o=u(e,r);return o}function u(e,r){for(var o=r[0],a=Math.abs(e-o),u=0;u<r.length;u++){var t=Math.abs(e-r[u]);t<a&&(a=t,o=r[u])}return o}k=f.createChart(c,p),f.setTitle(y,"Error Distribution Graph: "+t+" (Grouped by "+z+")"),k.selectAll("*").remove(),k.attr("width",p);var d=[];a.forEach(function(e){d.indexOf(e.groupByValue)<0&&(d.push(e.groupByValue),S[t].push(e.groupByValue))});var g=140,V=parseInt(p/g),N=Math.ceil(d.length/V),P=k.append("g").attr("transform","translate(100,"+(i+30*N+35)+")");P.append("line").attr("x1",0).attr("y1",0).attr("x2",20).attr("y2",0).attr("stroke","#75787B").attr("stroke-width","3px"),P.append("text").text("Percentile").attr("x",30).attr("y",5);k.attr("height",i+30*N);var Y=d3.scaleLinear().range([l.left,p]),T=d3.scaleLinear().range([i,0]),v=(d3.interpolateCool,d3.line().x(function(e){return Y(e[t])}).y(function(e){return T(e.predictedYSmooth)}).curve(d3.curveBasis)),x=d3.area().x(function(e){return Y(e[t])}).y0(function(e){return T(e.predictedYSmooth)}).y1(function(e){return T(e.predictedYSmooth+("null"==e.errPos?0:e.errPos))}).curve(d3.curveBasis),w=d3.area().x(function(e){return Y(e[t])}).y0(function(e){return T(e.predictedYSmooth+("null"==e.errNeg?0:e.errNeg))}).y1(function(e){return T(e.predictedYSmooth)}).curve(d3.curveBasis),W=k.append("g").attr("class","percRefLines").attr("transform","translate(10,0)"),R=k.append("g").attr("class","textRefLines").attr("transform","translate(10,0)"),A=k.append("g").attr("class","xAxis Axes").attr("transform","translate(10,"+(i+30*N+10)+")"),E=k.append("g").attr("class","yAxis Axes").attr("transform","translate(60,30)"),D=k.append("g").attr("class","posErrorG").attr("transform","translate(10,"+30*N+")"),G=k.append("g").attr("class","negErrorG").attr("transform","translate(10,"+30*N+")"),I=k.append("g").attr("class","lineG").attr("transform","translate(10,"+30*N+")"),j=k.append("g").attr("class","circleG").attr("transform","translate(10,"+30*N+")"),X=k.append("g").attr("class","circleHG").attr("transform","translate(10,"+30*N+")"),Q=(k.append("text").attr("class","label").attr("transform","translate("+p/2+","+(i+30*N+40)+")").style("text-anchor","middle").text(t),k.append("text").attr("class","label").attr("transform","translate(15,"+i/2+")rotate(-90)").style("text-anchor","end").text("Predicted-Quality"),k.append("line").style("opacity",0).attr("x1",0).attr("y1",30*N-10).attr("x2",0).attr("y2",i+30*N+10).attr("stroke","#75787B"));T.domain([-1,1]);var _=d3.axisLeft().scale(T).tickSizeInner(-p+l.left),U=d3.axisBottom().scale(Y).tickSizeInner(-i-10);E.call(_),A.call(U),r(!1)}function o(){function e(e){var r=[];return e.forEach(function(e){r.indexOf(e[t])<0&&r.push(e[t])}),r}function r(){function e(e,r){H.transition().duration(200).delay(100).style("opacity",1),H.html("<span>"+t+"</span> has a Predicted-Quality of <span>"+f.formatLabel(e.predictedYSmooth)+"</span> for category <span>"+e.groupByValue+"</span> with errors in ranging, on average, from <span>"+f.formatLabel(e.errNeg)+"</span> to <span>"+f.formatLabel(e.errPos)+"</span>").style("left",function(){var e=this.getBoundingClientRect().width,r=d3.event.pageX;return p>e+r+25?d3.event.pageX+5+"px":d3.event.pageX-e-5<10?"10px":d3.event.pageX-e-5+"px"}).style("top",d3.event.pageY+15+"px"),H.style("color",C[t][e.groupByValue])}function l(e,r){H.transition().duration(200).delay(100).style("opacity",1),H.html("<span>"+t+"</span> has a Predicted-Quality of <span>"+f.formatLabel(e.predictedYSmooth)+"</span> for category <span>"+e.groupByValue+"</span> with errors in ranging, on average, from <span>"+f.formatLabel(e.errNeg)+"</span> to <span>"+f.formatLabel(e.errPos)+"</span>").style("left",function(){var e=this.getBoundingClientRect().width,r=d3.event.pageX;return p>e+r+25?d3.event.pageX+5+"px":d3.event.pageX-e-5<10?"10px":d3.event.pageX-e-5+"px"}).style("top",d3.event.pageY+15+"px"),H.style("color",C[t][e.groupByValue])}function g(e,r){var o=d3.select("#"+t.replace(/[^a-zA-Z]/g,""));o.selectAll("."+e).style("stroke","#000").style("stroke-width",2)}function y(e,r){var o=d3.select("#"+t.replace(/[^a-zA-Z]/g,""));o.selectAll("."+e).style("stroke-width",0)}function c(e,r){H.transition().style("opacity",0),b=!1,v.transition().style("opacity",0),d3.select(this).attr("stroke-width","0px")}function h(e,o){S[t].indexOf(e)>=0?(S[t].splice(S[t].indexOf(e),1),r(),d3.select(this).style("opacity",.5).style("background-color","#A7A8AA")):(S[t].push(e),r(),d3.select(this).style("opacity",1).style("background-color",C[t][e]))}function m(e,r){e.each(function(){for(var e,a=d3.select(this),u=a.text().split(/\s+/).reverse(),l=[],p=0,i=1.1,d=a.attr("y"),g=parseFloat(a.attr("dy")),y=a.text(null).append("tspan").attr("x",0).attr("y",d).attr("dy",g+"em");e=u.pop();)l.push(e),y.text(l.join(" ")),y.node().getComputedTextLength()>r&&(l.pop(),y.text(l.join(" ")),l=[e],y=a.append("tspan").attr("x",0).attr("y",d).attr("dy",++p*i+g+"em").text(e));o=d3.max([450+20*p,o]),d3.select("#chlvl-"+t.replace(/[^a-zA-Z]/g,"")).style("height",o+"px")})}T.selectAll("*").remove(),w.selectAll("*").remove();var W=w.append("g").attr("class","posLineGroup").attr("transform","translate(0,70)"),R=w.append("g").attr("class","dashedLineGroup").attr("transform","translate(0,70)"),A=w.append("g").attr("class","circleGroup").attr("transform","translate(0,70)"),E=w.append("g").attr("class","negLineGroup").attr("transform","translate(0,70)"),D=S[t].sort(f.sortAlphaNum),L=1e3,z=0,G=a.filter(function(e){return D.indexOf(e.groupByValue)>=0});G.forEach(function(e){var r=Math.abs(e.predictedYSmooth)+Math.abs(e.errPos),o=Math.abs(e.predictedYSmooth)-Math.abs(e.errNeg);L=d3.min([L,r,o]),z=d3.max([z,r,o])});var M=[L>0?.9*L:1.1*L,z<0?.9*z:1.1*z];s.domain(u),N.domain(D).rangeRound([0,s.bandwidth()]),P.domain(M);var q=V(G,t,S[t],u);n.html("<ul style='list-style-type:disc' > <li>Across all categories, the model's error in predicting <b>"+O+" </b> is lowest for <b> "+q.lowestQuartile+" </b> "+q.lowestGroup+" and highest for <b> "+q.highestQuartile+" </b> "+q.highestGroup+"</li> <li> The error for <b>"+q.highestQuartile+" </b> "+q.highestGroup+" is  "+f.formatLabel(q.diffMaxOverall)+" higher than the overall median error and "+f.formatLabel(q.diffMaxMin)+" higher than the average error from <b>"+q.lowestQuartile+"</b> "+q.lowestGroup+"</li> <li> When the model makes prediction errors, there are times when those errors systematically lean in one direction </li><li>  The model tends to consistently make mistakes in the same direction when it miss-estimates "+t+" between "+q.overEst.slice(0,q.overEst.length-2)+" (overestimate) and "+q.underEst.slice(0,q.underEst.length-2)+" (underestimate) </li></ul>");var I=d3.axisBottom().scale(s);Y.transition().duration(1e3).call(x),k.select(".xAxis").call(I).attr("transform","translate(0,"+(i+50)+")"),k.select(".xAxis").selectAll("text").attr("x",function(e){return 0}).call(m,.9*s.bandwidth());R.selectAll("g").data(u).enter().append("g").selectAll("line").data(function(e){return G.filter(function(r){return r[t]==e})}).enter().append("line").attr("x1",function(e){return s(e[t])+N(e.groupByValue)+N.bandwidth()/2}).attr("y1",function(e){return P(e.predictedYSmooth+e.errNeg)}).attr("x2",function(e){return s(e[t])+N(e.groupByValue)+N.bandwidth()/2}).attr("y2",function(e){return P(e.predictedYSmooth+e.errPos)}).attr("stroke-width",2).style("stroke-dasharray","4, 4").attr("opacity",1).attr("stroke","#75787B"),A.selectAll("g").data(u).enter().append("g").attr("class",function(e){return"circleGroup "+e}).selectAll("circle").data(function(e){return G.filter(function(r){return r[t]==e})}).enter().append("circle").attr("class",function(e){return"circle "+e.groupByValue}).attr("r",5).attr("cx",function(e){return s(e[t])+N(e.groupByValue)+N.bandwidth()/2}).attr("cy",function(e){return P(e.predictedYSmooth)}).attr("fill",function(e){return C[t][e.groupByValue]}),W.selectAll("g").data(u).enter().append("g").selectAll("rect").data(function(e){return G.filter(function(r){return r[t]==e})}).enter().append("rect").attr("x",function(e){return s(e[t])+N(e.groupByValue)+N.bandwidth()/4}).attr("y",function(e){return P(e.predictedYSmooth+e.errPos)}).attr("width",function(e){return N.bandwidth()/2}).attr("height",function(e){return 1}).attr("stroke-width",3).attr("opacity",1).attr("fill","#75787B"),E.selectAll("g").data(u).enter().append("g").selectAll("rect").data(function(e){return G.filter(function(r){return r[t]==e&&S[t].indexOf(r.groupByValue)>=0})}).enter().append("rect").attr("x",function(e){return s(e[t])+N(e.groupByValue)+N.bandwidth()/4}).attr("y",function(e){return P(e.predictedYSmooth+e.errNeg)}).attr("width",function(e){return N.bandwidth()/2}).attr("height",function(e){return 1}).attr("stroke-width",3).attr("opacity",1).attr("fill","#75787B");k.selectAll("circle").on("mouseenter",e).on("mouseout",c).on("mousemove",l).attr("cursor","pointer"),k.select(".xAxis").selectAll("line").attr("opacity",.15).style("stroke-dasharray","4, 4"),k.select(".yAxis").selectAll("line").attr("opacity",.15).style("stroke-dasharray","4, 4"),k.select(".xAxis").selectAll("text").attr("x",function(e){return 0});B.selectAll("button").data(d.sort(f.sortAlphaNum)).enter().append("button").attr("class","legend-btn").style("background-color",function(e){return C[t][e]}).style("cursor","pointer").on("click",h).on("mouseover",g).on("mouseout",y).html(function(e){return e})}var o=i+30,u=e(a);k=f.createChart(c,p),f.setTitle(y,"Error Distribution Graph: "+t+" (Grouped by "+z+") "),k.selectAll("*").remove(),k.attr("width",p);var d=[];a.forEach(function(e){d.indexOf(e.groupByValue)<0&&(d.push(e.groupByValue),S[t].push(e.groupByValue))});var g=140,h=parseInt(p/g),m=Math.ceil(d.length/h);k.attr("height",450+30*m);var s=(d3.stack(),d3.scaleBand().range([l.left,p]).paddingInner(.25)),N=d3.scaleBand().padding(.25),P=d3.scaleLinear().range([i-30,0]);k.append("g").attr("class","xAxis").attr("transform","translate(10,"+(i+30*m+20)+")");var Y=k.append("g").attr("class","yAxis").attr("transform","translate(60,70)"),T=k.append("g").attr("transform","translate(0,70)"),v=(k.append("text").attr("class","label").attr("transform","translate("+p/2+","+(i+30*m+60)+")").style("text-anchor","middle").text(t),k.append("text").attr("class","label").attr("transform","translate(15,"+i/2+")rotate(-90)").style("text-anchor","end").text("Predicted-Quality"),k.append("line").style("opacity",0).attr("x1",0).attr("y1",30*m+20).attr("x2",0).attr("y2",i+30*m).attr("stroke","#75787B"));P.domain([-10,10]);var x=d3.axisLeft().scale(P).tickSizeInner(-p+l.left);Y.call(x);var w=k.append("g");r()}var a=Y.AppData[e].Data.filter(function(e){return e.groupByVarName==z&&G.indexOf(e.groupByValue)<0});if(0==a.length)return null;var u=a[0],t=Object.keys(u).filter(function(e){return D.indexOf(e)<0})[0],l={top:20,right:15,bottom:30,left:60},p=.74*f.getWidth()-l.left-l.right,i=300-l.top-l.bottom,d=W.append("div").attr("class","chart-lev").attr("id","chlvl-"+t.replace(/[^a-zA-Z]/g,"")).style("height","430px"),g=d.append("div").attr("class","app").attr("id",t.replace(/[^a-zA-Z]/g,"")),y=g.append("div").attr("class","Title"),c=(g.append("div").attr("class","Filtercontainer"),g.append("div").attr("class","Total"),g.append("div").attr("class","Chartcont")),y=c.append("div").attr("class","Title"),B=c.append("div").attr("class","legend").attr("width",p-100).attr("height",i-100),N=d.append("div").attr("class","desc").style("height","560px"),n=N.append("div").attr("class","desc-text"),S=(g.append("div").attr("class","Source"),g.append("div").attr("class","Attribution"),{});S[t]=[],"Continuous"==Y.AppData[e].Type?r():"Categorical"==Y.AppData[e].Type&&o()}var S=o(2),P=a(S),Y=o(1);console.log(Y.AppData),o(6);var f=new P.default,T=d3.select("#App"),v=(T.append("div").attr("class","heading").append("a").attr("href","https://github.com/DataScienceSquad/WhiteBox_Production").html("White Box - Prediction Error By Variable"),T.append("div").attr("class","subheading").append("a").attr("href","https://github.com/DataScienceSquad/WhiteBox_Production/wiki/How-to-interpret-WhiteBox-charts").html("How to interpret WhiteBox Charts"),T.append("div").attr("class","summary")),x=v.append("div").attr("class","heatMapContainer"),w=v.append("div").attr("class","filt-cont"),W=T.append("div").attr("class","Chartcontainer"),R=["#86BC25","#00A3E0","#00ABAB","#C4D600","#2C5234","#9DD4CF","#004F59","#62B5E5","#43B02A","#0076A8","#9DD4CF","#012169"],b=!1,H=d3.select("body").append("div").attr("id","tooltip").style("opacity",0);d3.select("body").on("click",function(){b&&(H.style("opacity",0),b=!1)});var A,k,E,D=["predictedYSmooth","groupByVarName","groupByValue","highlight","errNeg","errPos"],L=!0,C={},z="",G=[],M={};E=f.createChart(x,A);var O="Quality",q=[10,50,90];window.togglePercentile=t,window.intializeTreeMap=g,N(),c(),l(),g(Y.AppData[0].Data[0].groupByVarName),window.onresize=function(){d3.select(".Chartcontainer").selectAll("*").remove(),A=f.getWidth(),g(Y.AppData[0].Data[0].groupByVarName);for(var e=0;e<Y.AppData.length;e++)n(e)}},function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=<***>;r.AppData=o},function(e,r){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,o,a){return o&&e(r.prototype,o),a&&e(r,a),r}}(),u=function(){function e(){o(this,e)}return a(e,[{key:"setTitle",value:function(e,r){e.selectAll("*").remove();e.append("span").html(r)}},{key:"setLabel",value:function(e,r){e.selectAll("*").remove();e.append("span").html(r)}},{key:"setSource",value:function(e,r){e.selectAll("*").remove(),e.html(r)}},{key:"setAttribution",value:function(e){e.append("p").text("Deloitte University Press | dupress.deloitte.com")}},{key:"createChart",value:function(e,r){var o=e.append("svg");return o.attr("width",r),o}},{key:"buildLegenedGroup",value:function(){}},{key:"formatLabel",value:function(e){return e=parseFloat(e),e=d3.format(".3f")(e),e=e.replace(/\.0$/,"")}},{key:"getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},{key:"sortAlphaNum",value:function(e,r){var o=/[^a-zA-Z]/g,a=/[^0-9]/g,u=e.replace(o,""),t=r.replace(o,"");if(u===t){var l=parseInt(e.replace(a,""),10),p=parseInt(r.replace(a,""),10);return l===p?0:l>p?1:-1}return u>t?1:-1}},{key:"sortDictionary",value:function(e,r){var o=e.name.toLowerCase(),a=r.name.toLowerCase();return o<a?-1:o>a?1:0}}]),e}();r.default=u},function(e,r,o){r=e.exports=o(4)(),r.push([e.id,'/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*,:after,:before{box-sizing:border-box;-webkit-tap-highlight-color:transparent}svg{overflow:visible!important}body,html{background-color:#fff;font-family:Open Sans,sans-serif}#App{overflow:hidden;width:100%}.filt-cont{width:24%;height:50px;float:left;margin-top:22px}.dropdown{width:100%;color:#53565a;position:relative;display:inline-block;margin-left:1%;margin-top:10px}.dropdown-content{display:none;position:absolute;background-color:#fff;z-index:1;width:100%;border:1px solid #00a3e0;border-radius:2px;border-top:none;overflow:auto;max-height:300px}.dropdown-content a{color:#53565a;padding:3px 5px;text-decoration:none;display:block;cursor:pointer}.dropdown-content a:hover{background-color:#00a3e0}.dropdown:hover .dropdown-content{display:block}.dropbtn{color:#53565a;background-color:#fff;font-size:14px;border:none;text-align:left;padding-top:3px;padding-bottom:3px;cursor:pointer;width:100%;height:30px;border:1px solid #00a3e0}.drpbtn:focus{outline:none}.heatMapContainer{height:150px;width:74%;margin-left:1%;padding-top:5px;margin-top:10px;float:left}#tooltip{position:absolute;width:auto;text-align:center;border-radius:5px;pointer-events:none;background-color:#fff;padding:8px;z-index:100;font-size:14px;max-width:300px;border:1px solid rgba(0,0,0,.1);box-shadow:4px 4px 6px rgba(0,0,0,.2);z-index:1000}#tooltip span{font-weight:700;font-size:17px}.Title{color:#000;font-size:16px;font-weight:600;padding:12px;text-align:center;text-decoration:underline;width:99%;float:left}.Source{font-weight:300;font-size:14px;padding-left:12px;padding-right:12px;text-align:left}.Source p{margin:2px}svg text{font-size:14px;fill:#53565a;font-weight:400}.app{width:74%;float:left}.Chartcontainer{margin-top:150px;width:100%;float:left}.summary{padding-top:5px;margin-top:2px;height:130px;box-shadow:2px 2px 4px rgba(0,0,0,.247059);position:fixed;width:98%;top:68px;background-color:#fff;margin-left:1%;z-index:1000}.Chartcontainer button{max-width:200px;height:30px;border:none;margin-left:20px;font-family:Open Sans,sans-serif;font-size:16px;font-weight:600;color:#fff}.Chartcontainer button:focus{outline:0}.tick{font-weight:700}.tick line{opacity:.15}.Chartcontainer button:hover{background-color:#fff;color:#000}.legend{width:90%;margin-left:5%;display:inline-flex;justify-content:center;flex-wrap:wrap;float:left}.legend-btn{width:200px;border:2px solid #53565a!important;border-radius:2px}.label{font-size:12px;font-weight:700}.chart-lev{margin-top:50px;width:98%;box-shadow:2px 2px 4px rgba(0,0,0,.247059);margin-left:1%;display:inline-block}.desc{width:24%;float:left;margin-left:1%}.desc-text{height:320px;width:98%;margin-top:40px;padding:5px;font-size:14px;text-align:justify;overflow-y:auto}.desc-text ul{padding-left:10px}.rect{border:2px solid #53565a}.heading{height:50px;font-size:24px;padding-top:15px}.heading,.subheading{position:fixed;margin-left:1%;width:98%;text-align:center;color:#00a3e0;font-weight:800;box-shadow:2px 2px 4px rgba(0,0,0,.247059);z-index:999;background-color:#fff}.subheading{top:50px;height:20px;font-size:12px}.heading a,.heading a:focus,.subheading a,.subheading a:focus{color:#00a3e0}.perc-check{height:50px;width:98%;margin-left:1%;display:block;position:relative;padding-left:5px;margin-top:12px;cursor:pointer;font-size:16px;color:#53565a;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.perc-check input{cursor:pointer}.perc-checkinput,.perc-check input{position:absolute;opacity:0}.perc-checkinput+label{position:relative;cursor:pointer;padding:0;width:20px;height:20px}.perc-checkinput+label:before{content:"";margin-right:10px;display:inline-block;vertical-align:text-top;width:20px;height:20px;background:#00a3e0;color:#86bc25;border:1px solid #fff;border-radius:2px}.perc-checkinput:hover+label:before{background:#00a3e0;color:#00a3e0}.perc-checkinput:checked+label:before{color:#00a3e0;background:#00a3e0;border:1px solid #fff;border-radius:2px}.perc-checkinput:disabled+label{color:#63666a;cursor:auto}.perc-checkinput:disabled+label:before{box-shadow:none;background:#00a3e0}.perc-checkinput:checked+label:after{content:"";position:absolute;left:4px;top:8px;background:#fff;width:3px;height:3px;box-shadow:2px 0 0 #fff,4px 0 0 #fff,4px -2px 0 #fff,4px -4px 0 #fff,4px -6px 0 #fff,4px -8px 0 #fff;transform:rotate(45deg)}',""]);},function(e,r){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],r=0;r<this.length;r++){var o=this[r];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(r,o){"string"==typeof r&&(r=[[null,r,""]]);for(var a={},u=0;u<this.length;u++){var t=this[u][0];"number"==typeof t&&(a[t]=!0)}for(u=0;u<r.length;u++){var l=r[u];"number"==typeof l[0]&&a[l[0]]||(o&&!l[2]?l[2]=o:o&&(l[2]="("+l[2]+") and ("+o+")"),e.push(l))}},e}},function(e,r,o){function a(e,r){for(var o=0;o<e.length;o++){var a=e[o],u=h[a.id];if(u){u.refs++;for(var t=0;t<u.parts.length;t++)u.parts[t](a.parts[t]);for(;t<a.parts.length;t++)u.parts.push(d(a.parts[t],r))}else{for(var l=[],t=0;t<a.parts.length;t++)l.push(d(a.parts[t],r));h[a.id]={id:a.id,refs:1,parts:l}}}}function u(e){for(var r=[],o={},a=0;a<e.length;a++){var u=e[a],t=u[0],l=u[1],p=u[2],i=u[3],d={css:l,media:p,sourceMap:i};o[t]?o[t].parts.push(d):r.push(o[t]={id:t,parts:[d]})}return r}function t(e,r){var o=V(),a=n[n.length-1];if("top"===e.insertAt)a?a.nextSibling?o.insertBefore(r,a.nextSibling):o.appendChild(r):o.insertBefore(r,o.firstChild),n.push(r);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(r)}}function l(e){e.parentNode.removeChild(e);var r=n.indexOf(e);r>=0&&n.splice(r,1)}function p(e){var r=document.createElement("style");return r.type="text/css",t(e,r),r}function i(e){var r=document.createElement("link");return r.rel="stylesheet",t(e,r),r}function d(e,r){var o,a,u;if(r.singleton){var t=N++;o=B||(B=p(r)),a=g.bind(null,o,t,!1),u=g.bind(null,o,t,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=i(r),a=c.bind(null,o),u=function(){l(o),o.href&&URL.revokeObjectURL(o.href)}):(o=p(r),a=y.bind(null,o),u=function(){l(o)});return a(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;a(e=r)}else u()}}function g(e,r,o,a){var u=o?"":a.css;if(e.styleSheet)e.styleSheet.cssText=S(r,u);else{var t=document.createTextNode(u),l=e.childNodes;l[r]&&e.removeChild(l[r]),l.length?e.insertBefore(t,l[r]):e.appendChild(t)}}function y(e,r){var o=r.css,a=r.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function c(e,r){var o=r.css,a=r.sourceMap;a&&(o+="\\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var u=new Blob([o],{type:"text/css"}),t=e.href;e.href=URL.createObjectURL(u),t&&URL.revokeObjectURL(t)}var h={},m=function(e){var r;return function(){return"undefined"==typeof r&&(r=e.apply(this,arguments)),r}},s=m(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),V=m(function(){return document.head||document.getElementsByTagName("head")[0]}),B=null,N=0,n=[];e.exports=function(e,r){r=r||{},"undefined"==typeof r.singleton&&(r.singleton=s()),"undefined"==typeof r.insertAt&&(r.insertAt="bottom");var o=u(e);return a(o,r),function(e){for(var t=[],l=0;l<o.length;l++){var p=o[l],i=h[p.id];i.refs--,t.push(i)}if(e){var d=u(e);a(d,r)}for(var l=0;l<t.length;l++){var i=t[l];if(0===i.refs){for(var g=0;g<i.parts.length;g++)i.parts[g]();delete h[i.id]}}}};var S=function(){var e=[];return function(r,o){return e[r]=o,e.filter(Boolean).join("\\n")}}()},function(e,r,o){var a=o(3);"string"==typeof a&&(a=[[e.id,a,""]]);o(5)(a,{});a.locals&&(e.exports=a.locals)}]);
